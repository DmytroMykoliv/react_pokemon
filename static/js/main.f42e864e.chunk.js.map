{"version":3,"sources":["api/api.tsx","components/FilterByType/FilterByType.tsx","components/SelectedCard/SelectedCard.tsx","components/PokemonList/PokemonList.tsx","App.tsx","index.tsx"],"names":["request","loadLimit","a","fetch","response","ok","Error","status","json","getPokemonsInfo","url","pokemon","getPokemonsType","types","FilterByTypes","props","onHandleSelect","selectedType","className","value","onChange","map","type","name","SelectedCard","selectedPokemon","sprites","moves","stats","weight","src","front_default","alt","join","item","stat","base_stat","length","PokemonList","useState","pokemonsData","setPokemonsData","pokemons","setPokemons","setTypes","setLoadLimit","setSelectedPokemon","setSelectedType","isSelectedPokemon","setIsSelectedPokemon","isError","setError","loadData","pokemonsFromApi","loadPokemonsPromise","results","loadPokemon","Promise","all","loadPokemons","useEffect","loadTypes","getSelectedPokemon","event","typeName","filteredPokemons","filter","find","filteredByTypes","target","role","tabIndex","onClick","onKeyPress","id","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f42e864e.chunk.js","sourcesContent":["const API_URL = 'https://pokeapi.co/api/v2/pokemon?limit=';\nconst TYPE_URL = 'https://pokeapi.co/api/v2/type?limit=999';\n\nexport const request = async (loadLimit: number) => {\n  const response = await fetch(`${API_URL}${loadLimit}`);\n\n  if (!response.ok) {\n    throw new Error(`${response.status} - Something went wrong with data load`);\n  }\n\n  return response.json();\n};\n\nexport const getPokemonsInfo = async (url: string) => {\n  const pokemon = await fetch(url);\n\n  if (!pokemon.ok) {\n    throw new Error(`${pokemon.status} - Something went wrong with info load`);\n  }\n\n  return pokemon.json();\n};\n\nexport const getPokemonsType = async () => {\n  const types = await fetch(TYPE_URL);\n\n  if (!types.ok) {\n    throw new Error(`${types.status} - Something went wrong with type load`);\n  }\n\n  return types.json();\n};\n","import React from 'react';\n\ntype Props = {\n  types: Type[],\n  selectedType: string,\n  onHandleSelect: (event: React.ChangeEvent<HTMLSelectElement>) => void,\n};\n\nexport const FilterByTypes: React.FC<Props> = (props) => {\n  const { onHandleSelect, types, selectedType } = props;\n\n  return (\n    <select className=\"form-control\" value={selectedType} onChange={onHandleSelect}>\n      <option value=\"All\">All</option>\n      {types.map(type => (\n        <option\n          key={type.name}\n          value={type.name}\n        >\n          {type.name}\n        </option>\n      ))}\n    </select>\n  );\n};\n","import React from 'react';\n\nimport './SelectedCard.scss';\n\ntype Props = {\n  selectedPokemon: Pokemon,\n};\n\nexport const SelectedCard: React.FC<Props> = (props) => {\n  const {\n    sprites,\n    name,\n    moves,\n    stats,\n    types,\n    weight,\n  } = props.selectedPokemon;\n\n  return (\n    <div className=\"card_info\">\n      <img src={sprites.front_default} className=\"card-img-top\" alt=\"...\" />\n      <div className=\"card-body card-body--info\">\n        <h5 className=\"card-title\">{name}</h5>\n\n        <table className=\"table table-bordered card_table\">\n          <thead>\n            <tr>\n              <th>Type</th>\n              <td>{types.map(type => type.type.name).join(', ')}</td>\n            </tr>\n          </thead>\n          <tbody>\n            {stats.map(item => (\n              <tr key={item.stat.name}>\n                <th>{`${item.stat.name}`}</th>\n                <td>{`${item.base_stat}`}</td>\n              </tr>\n            ))}\n            <tr>\n              <th>Weight</th>\n              <td>{`${weight}`}</td>\n            </tr>\n            <tr>\n              <th>Total moves</th>\n              <td>{`${moves.length}`}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { request, getPokemonsInfo, getPokemonsType } from '../../api/api';\nimport { FilterByTypes } from '../FilterByType';\nimport { SelectedCard } from '../SelectedCard';\n\nimport './PokemonList.scss';\n\nexport const PokemonList: React.FC = () => {\n  const [pokemonsData, setPokemonsData] = useState<Pokemon[]>([]);\n  const [pokemons, setPokemons] = useState<Pokemon[]>([]);\n  const [types, setTypes] = useState<Type[]>([]);\n  const [loadLimit, setLoadLimit] = useState(12);\n  const [selectedPokemon, setSelectedPokemon] = useState<Pokemon | null>(null);\n  const [selectedType, setSelectedType] = useState<string>('');\n  const [isSelectedPokemon, setIsSelectedPokemon] = useState(false);\n  const [isError, setError] = useState(false);\n\n  const loadData = () => {\n    (async () => {\n      try {\n        const pokemonsFromApi: Api = await request(loadLimit);\n\n        const loadPokemonsPromise = pokemonsFromApi.results.map(async (pokemon: Results) => {\n          const loadPokemon = await getPokemonsInfo(pokemon.url);\n\n          return loadPokemon;\n        });\n\n        const loadPokemons: Pokemon[] = await Promise.all(loadPokemonsPromise);\n\n        setPokemonsData(loadPokemons);\n        setPokemons(loadPokemons);\n        setError(false);\n      } catch {\n        setError(true);\n      }\n    })();\n  };\n\n  useEffect(() => {\n    (async () => {\n      loadData();\n      const loadTypes: Types = await getPokemonsType();\n\n      setTypes(loadTypes.results);\n    })();\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      loadData();\n    })();\n  }, [loadLimit]);\n\n  const getSelectedPokemon = (pokemon: Pokemon) => {\n    setIsSelectedPokemon(true);\n    setSelectedPokemon(pokemon);\n  };\n\n  const filteredByTypes = (typeName: string) => {\n    setIsSelectedPokemon(false);\n\n    if (typeName === 'All') {\n      setPokemons(pokemonsData);\n\n      return;\n    }\n\n    const filteredPokemons = pokemonsData\n      .filter(pokemon => pokemon.types.find(type => type.type.name === typeName));\n\n    setPokemons(filteredPokemons);\n  };\n\n  const handleSelect = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    filteredByTypes(event.target.value);\n    setSelectedType(event.target.value);\n  };\n\n  const handleClick = () => {\n    setLoadLimit(loadLimit + 12);\n    setSelectedType('All');\n  };\n\n  return (\n    <main>\n      <h1 className=\"main_title\">Pokedex</h1>\n\n      <FilterByTypes\n        onHandleSelect={handleSelect}\n        selectedType={selectedType}\n        types={types}\n      />\n\n      {isError ? ('Something went wrong') : (\n        <section className=\"container\">\n          <article className=\"row row-cols-1 row-cols-md-3 container_list\">\n            {pokemons.length > 0 ? (pokemons.map((pokemon: Pokemon) => {\n              return (\n                <div key={pokemon.id} className=\"col mb-4\">\n                  <div\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"card\"\n                    onClick={() => getSelectedPokemon(pokemon)}\n                    onKeyPress={() => getSelectedPokemon(pokemon)}\n                  >\n                    <img\n                      src={pokemon.sprites.front_default}\n                      className=\"card-img-top\"\n                      alt={`pokemon ${pokemon.name}`}\n                    />\n                    <div className=\"card-body\">\n                      <h5 className=\"card-title\">{pokemon.name}</h5>\n                      <div className=\"card_types\">\n                        {pokemon.types.map(type => {\n                          const { url, name } = type.type;\n\n                          return (\n                            <p key={url} className={`card_type-item card_type-item--${name}`}>\n                              {name}\n                            </p>\n                          );\n                        })}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              );\n            })) : 'Need to load more pokemons ))'}\n\n            <button\n              className=\"btn btn-primary container_btn-loader\"\n              type=\"button\"\n              onClick={() => handleClick()}\n            >\n              Load More\n            </button>\n          </article>\n\n          <article className=\"container_info-card\">\n            {isSelectedPokemon && selectedPokemon\n              && <SelectedCard selectedPokemon={selectedPokemon} />}\n          </article>\n        </section>\n      )}\n    </main>\n  );\n};\n","import React from 'react';\nimport { PokemonList } from './components/PokemonList';\nimport './App.scss';\n\nexport const App: React.FC = () => {\n  return (\n    <div className=\"starter\">\n      <PokemonList />\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}